# =================================================================
# Docker Production Deployment - Environment Variables
# =================================================================
# Copy this file to .env and customize the values for your deployment
# =================================================================

# -----------------------------
# DOMAIN & URL CONFIGURATION
# -----------------------------
# Main domain for the application
DOMAIN=localhost

# Backend specific host (optional, for direct backend access)
BACKEND_HOST=backend.localhost

# Full API URL that frontend will use to communicate with backend
# Format: https://your-domain/ or http://your-domain/ (for non-SSL)
API_URL=https://localhost/

# -----------------------------
# TRAEFIK CONFIGURATION
# -----------------------------
# Ports for Traefik
TRAEFIK_HTTP_PORT=80
TRAEFIK_HTTPS_PORT=443
TRAEFIK_DASHBOARD_PORT=8080

# Traefik dashboard host
TRAEFIK_DASHBOARD_HOST=traefik.localhost

# Enable insecure dashboard (set to false in production)
TRAEFIK_DASHBOARD_INSECURE=false

# Traefik log level (DEBUG, INFO, WARN, ERROR)
TRAEFIK_LOG_LEVEL=INFO

# -----------------------------
# SSL/TLS CONFIGURATION
# -----------------------------
# Self-signed certificate (for development/testing)
# Set to true to use self-signed certificates
# Run ./generate-self-signed-cert.sh to generate certificates
USE_SELF_SIGNED_CERT=true

# Let's Encrypt SSL (for production with real domain)
# Uncomment and configure when ready to use Let's Encrypt
# Set USE_SELF_SIGNED_CERT=false and uncomment the certresolver lines in docker-compose.yml
# ACME_EMAIL=admin@yourdomain.com

# -----------------------------
# DJANGO BACKEND CONFIGURATION
# -----------------------------
# Django secret key (MUST change in production!)
# Generate a new one: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
DJANGO_SECRET_KEY=django-insecure-change-this-in-production-use-a-strong-random-key

# Django debug mode (set to False in production)
DJANGO_DEBUG=False

# Allowed hosts (comma-separated, no spaces)
# Example: backend,localhost,127.0.0.1,yourdomain.com,www.yourdomain.com
DJANGO_ALLOWED_HOSTS=backend,localhost,127.0.0.1

# CSRF trusted origins (comma-separated, include protocol)
# Use https:// for SSL/TLS, http:// for non-SSL
# Example: https://localhost,https://yourdomain.com
DJANGO_CSRF_TRUSTED_ORIGINS=https://localhost,https://127.0.0.1

# CORS allowed origins (comma-separated, include protocol)
# Use https:// for SSL/TLS, http:// for non-SSL
# Example: https://localhost,https://yourdomain.com
DJANGO_CORS_ALLOWED_ORIGINS=https://localhost,https://127.0.0.1

# -----------------------------
# DATABASE CONFIGURATION
# -----------------------------
# Database engine (default: sqlite3)
# For PostgreSQL: django.db.backends.postgresql
# For MySQL: django.db.backends.mysql
DB_ENGINE=django.db.backends.sqlite3

# Database name (for sqlite3: db.sqlite3, for others: database name)
DB_NAME=db.sqlite3

# Database credentials (not needed for sqlite3)
DB_USER=
DB_PASSWORD=
DB_HOST=
DB_PORT=

# -----------------------------
# DJANGO SUPERUSER CONFIGURATION
# -----------------------------
# Automatically create a superuser on first run (optional)
# If these are not set, you can create a superuser manually using:
# docker exec -it join-backend python manage.py createsuperuser
# OR use the deploy.sh script option 5
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=ChangeThisToAStrongPassword123!

# -----------------------------
# PRODUCTION NOTES
# -----------------------------
# 1. Always change DJANGO_SECRET_KEY in production
# 2. Set DJANGO_DEBUG=False in production
# 3. Configure proper DOMAIN and API_URL
# 4. Update DJANGO_ALLOWED_HOSTS with your domain
# 5. Update CORS and CSRF origins with your domain (use https://)
# 6. For self-signed SSL: Run ./generate-self-signed-cert.sh and set USE_SELF_SIGNED_CERT=true
# 7. For Let's Encrypt SSL: Configure ACME_EMAIL and uncomment certresolver in docker-compose.yml
# 8. For production database: Use PostgreSQL or MySQL instead of SQLite
# 9. Secure or disable Traefik dashboard in production
# 10. Use strong passwords and keep credentials secure
# 11. Change DJANGO_SUPERUSER_PASSWORD to a strong password
# 12. Regularly update Docker images for security patches
# 13. Database files are persisted in a Docker volume named 'backend-data'
